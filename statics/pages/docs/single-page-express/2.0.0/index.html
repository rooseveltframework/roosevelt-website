<include src="layouts/main">
<arg pageTitle>Single Page Express</arg>
<arg pageId>single-page-express</arg>
<arg pageContent><article><p><a href="https://www.npmjs.com/package/single-page-express"><img src="https://img.shields.io/npm/v/single-page-express.svg" alt="npm" /></a></p>
<p>A client-side implementation of the <a href="http://expressjs.com">Express</a> route API. It works by hijacking links and form submits, then providing a direct imitation of the Express route API to handle "requests" (click or submit events) and issue "responses" in the form of DOM updates.</p>
<p>When a <code>single-page-express</code> route is triggered, it will update the browser history state to match the route accordingly, update the scroll position appropriately, set focus appropriately, will start a <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API">view transition</a> to animate the DOM updates, and there are hooks available to customize the animations as well. If view transitions are not supported in the browser, the page will transition, but it will not animate unless you set a custom animation using another animation technique.</p>
<p>This allows you to write isomorphic (aka universal, <a href="https://twitter.com/kethinov/status/566896168324825088">amphibious</a>, etc) router code that can be shared verbatim on the client and the server in your Express application.</p>
<p>When you combine this with a JS-based templating system that can run on the client and server as well, that will enable you to write Express-based single page apps that support both server-side and client-side rendering while maximizing code re-use in both contexts without having to use a big JS framework to accomplish the task instead.</p>
<p>You can also use this module in purely frontend contexts without an Express server behind it (e.g. an Electron app).</p>
<p>This module was built and is maintained by the <a href="https://rooseveltframework.org">Roosevelt web framework</a> <a href="https://rooseveltframework.org/contributors">team</a>, but it can be used independently of Roosevelt as well.</p>
<p></p>
<h2 id="whythisinsteadof">Why this instead ofâ€¦</h2>
<p><code>single-page-express</code> has several benefits over other popular single page app architecture approaches, such as:</p>
<ul>
<li><p>All routes can very easily be either server-rendered or rendered client-side without duplicating efforts since all the route and template code can be shared with both the server and client.</p></li>
<li><p>Unlike other SPA framework approaches that support server-rendering, this approach yields a very small dependency tree and thus very small frontend bundle sizes. Hello world will be measured in tens of kilobytes, not hundreds, and certainly not megabytes.</p></li>
<li><p>Likewise there is very little complexity to the architecture. If you know how to use Express, then it won't take you long to learn how to use this module on the frontend too.</p></li>
<li><p>Like Express, this module is unopinionated about what templating engine you use for rendering HTML templates. Use any templating engine that supports Express.</p></li>
<li><p>The default render method includes many smart defaults, including easy hooks for setting the page title, updating children of the <code>&lt;head&gt;</code> tag, automatic support for announcing template renders as new pages to screen readers, setting browser focus to the correct element, and more. The specifics of the default render method's behavior are detailed below, and you can replace the default render method with your own if you prefer different behavior.</p></li>
</ul>
<p>Don't build a SPA (single page app), build a SPE (single page Express) app!</p></article></arg></include>