<include src="layouts/main">
<arg pageTitle>web framework — changelog</arg>
<arg pageId>roosevelt-web-framework-—-changelog</arg>
<arg pageContent><article><h2 id="0307">0.30.7</h2>
<ul>
<li>Added new <code>onBeforeControllers</code> event.</li>
<li>Added new <code>html.folderPerPage</code> param.</li>
<li>Made it easier to debug HTML validation errors on static sites.</li>
<li>Fixed bugs associated with the <code>stopServer()</code> method.</li>
<li>Fixed bugs associated with using a <code>roosevelt.config.json</code> file in your app.</li>
<li>Fixed a bug that could cause middleware errors not to flow through the middleware stack correctly.</li>
<li>Copyedited documentation significantly.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0306">0.30.6</h2>
<ul>
<li>Added <code>onBeforeStatics</code> event.</li>
<li>Altered <code>makeBuildArtifacts</code> log to be a warning.</li>
<li>Fixed writing JS file log to be properly classified as <code>info</code> instead of <code>log</code>.</li>
<li>Fixed a bug that could cause the static site generator to not write new files even if the file has changed.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0305">0.30.5</h2>
<ul>
<li>Added error handling for if you supply Roosevelt constructor params to <code>initServer</code> or <code>startServer</code>.</li>
<li>Fixed bugs that could cause <code>initServer</code>, <code>startServer</code>, and <code>stopServer</code> to not be properly awaitable.</li>
<li>Fixed bug that would cause <code>undefined</code> to print on error pages in Roosevelt apps without a package.json version defined.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0304">0.30.4</h2>
<ul>
<li>Fixed bugs that prevented CSS source maps from working correctly.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0303">0.30.3</h2>
<ul>
<li>Fixed model overriding precedent in static site generator.</li>
</ul>
<h2 id="0302">0.30.2</h2>
<ul>
<li>Fixed a crash associated with the default catch-all route.</li>
</ul>
<h2 id="0301">0.30.1</h2>
<ul>
<li>Fixed a bug that caused two catch-all routes to appear in the router stack.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0300">0.30.0</h2>
<ul>
<li>Breaking: Upgraded to Express 5.x.<ul>
<li>To migrate:<ul>
<li>Most Roosevelt apps probably only need to change <code>*</code> routes to <code>*all</code>.</li>
<li>Apps that use more complex routing may need other changes.</li>
<li>Full list of considerations for migrating to Express 5: <a href="https://expressjs.com/en/guide/migrating-5.html">https://expressjs.com/en/guide/migrating-5.html</a></li></ul></li></ul></li>
<li>Added <code>expressSessionStore</code> Express variable, which is the session store instance used by express-session module Roosevelt uses internally.</li>
<li>Added support for catch-all <code>*</code> in static site generator model definitions.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0295">0.29.5</h2>
<ul>
<li>Added new <code>copy</code> param that will copy files from a source location to a destination location.</li>
<li>Added new feature to integrated webpack bundler to disable LICENSE.txt generation by default. This can be overridden by supplying your own <code>optimization</code> param to your webpack config.</li>
<li>Improved docs.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0294">0.29.4</h2>
<ul>
<li>Added first-line comment blocklist support to the static site generator.</li>
<li>Added static site generator folder to the <code>require</code> module path.</li>
<li>Added async/await support for static site models.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0293">0.29.3</h2>
<ul>
<li>Fixed a bug that could cause some routes not to load.</li>
<li>Fixed a bug that could cause more than one <code>*</code> route to end up in the router stack.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0292">0.29.2</h2>
<ul>
<li>Fixed a bug that would cause <code>MAKE_BUILD_ARTIFACTS</code> to supersede the <code>--build</code> CLI flag.</li>
<li>Fixed a bug that would cause an error to falsely print about not being able to create symlinks.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0291">0.29.1</h2>
<ul>
<li>Fixed bugs associated with <code>MAKE_BUILD_ARTIFACTS</code> sometimes not working properly.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0290">0.29.0</h2>
<ul>
<li>Breaking: Moved default output location for <code>clientControllers</code> and <code>clientViews</code> to the <code>.build</code> folder.<ul>
<li>To migrate your app, you will likely need to change <code>js.webpack.bundles.config.resolve.modules</code> to replace any entry that has <code>"${publicFolder}/js"</code> with <code>"${buildFolder}/js"</code>.</li></ul></li>
<li>Breaking: Changed default of <code>preprocessedViewsPath</code> param from <code>".build/.preprocessed_views"</code> to <code>".build/preprocessed_views"</code> and changed default of <code>preprocessedStaticsPath</code> param from <code>".build/.preprocessed_statics"</code> to <code>".build/preprocessed_statics"</code>.</li>
<li>Added <code>buildFolder</code> param to customize the name of the <code>.build</code> folder.</li>
<li>Altered output of <code>controllersBundler</code> and <code>viewsBundler</code> feature to produce files that are easier to read.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0281">0.28.1</h2>
<ul>
<li>Fixed a bug where HTTPS certs wouldn't always automatically generate when they should.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0280">0.28.0</h2>
<ul>
<li>Breaking: Removed config auditor feature.</li>
<li>Added more checks to the deprecation checker.</li>
<li>Updated dependencies.</li>
</ul>
<h2 id="0270">0.27.0</h2>
<ul>
<li><p>Breaking: Changed <code>http/s</code> param structure:</p>
<ul>
<li>Changed <code>port</code> param to <code>http.port</code> and changed the default to <code>43763</code>.</li>
<li>Changed <code>https.port</code> param default to <code>43711</code>.</li>
<li>Removed <code>https.force</code> param. Non-secure <code>http</code> can now be disabled via <code>http.enable</code> being set to false.</li>
<li>Removed <code>authInfoPath</code>, <code>passphrase</code>, <code>caCert</code>, <code>requestCert</code>, and <code>rejectUnauthorized</code> params. Replaced them with <code>options</code> where you can pass any <a href="https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions">native option</a>.<ul>
<li>The <code>ca</code>, <code>cert</code>, <code>key</code>, and <code>pfx</code> params can take file paths relative to your <code>secretsDir</code> in addition to everything else natively supported (strings, buffers, and arrays of strings or buffers).</li>
<li>The file paths get resolved within arrays if you pass arrays to any of those as well.</li></ul></li>
<li>These collective changes mean most Roosevelt apps will need to alter their Roosevelt configs from something that looks like:</li></ul>
<pre><code>"port": 19679,
"https": {
  "enable": true,
  "port": 19679,
  "force": true,
  "authInfoPath": {
    "authCertAndKey": {
      "cert": "cert.pem",
      "key": "key.pem"
    }
  }
},</code></pre>
<ul>
<li>To be something like this instead:</li></ul>
<pre><code>"http": {
  "enable": false
},
"https": {
  "enable": true,
  "port": 19679,
  "options": {
    "cert": "cert.pem",
    "key": "key.pem"
  }
},</code></pre></li>
<li><p>Breaking: Changed behavior of <code>NODE_PORT</code> environment variable to now set <code>https</code> port when <code>https</code> is enabled and fall back to <code>http</code> if <code>https</code> is disabled.</p></li>
<li><p>Breaking: Moved the versioning of webpack from Roosevelt itself to the app. You will need to declare webpack as a dependency in your app if you intend to use the JS bundler feature in Roosevelt.</p></li>
<li><p>Breaking: Changed <code>js.webpack.bundles.env</code> param to require values <code>development</code> or <code>production</code> instead of <code>dev</code> or <code>prod</code>.</p></li>
<li><p>Breaking: Changed <code>js.webpack.bundles.verbose</code> param to <code>js.verbose</code>.</p></li>
<li><p>Breaking: Changed <code>--webpack</code>, <code>--wp</code>, and <code>--w</code> CLI flags to <code>--jsbundler</code>, <code>--jsb</code>, and <code>--j</code> respectively.</p></li>
<li><p>Breaking: Changed default of <code>preprocessedViewsPath</code> param from <code>'mvc/.preprocessed_views'</code> to <code>'.build/.preprocessed_views'</code> and changed default of <code>preprocessedStaticsPath</code> param from <code>'.preprocessed_statics'</code> to <code>'.build/.preprocessed_statics'</code>. Collectively these changes mean most Roosevelt apps should remove <code>.preprocessed_views</code> and <code>.preprocessed_statics</code> from <code>.gitignore</code> and add <code>.build</code> instead.</p></li>
<li><p>Added new param <code>js.customBundler</code> that will let you define a custom JS bundler.</p></li>
<li><p>Added new param <code>js[bundler].customBundlerFunction</code> that will let you define custom behavior for default supported JS bundlers like Webpack.</p></li>
<li><p>Updated dependencies.</p></li>
</ul>
<h2 id="0261">0.26.1</h2>
<ul>
<li><p>Added new Express variable <code>debugMarkup</code> that contains HTML you can add to your custom error pages if you define any that will print server errors if any exist, display the route list, add some inline JavaScript that will serialize the request's <code>err</code>, <code>req</code>, and <code>res</code> objects so you can interactively examine them in the browser's developer tools. Only available in development mode.</p></li>
<li><p>Added the aforementioned debug markup to the default error pages in development mode as well.</p></li>
<li><p>Added <code>routes</code> Express variable which will list all routes in the app.</p></li>
<li><p>Added new recognized environment variable: <code>MAKE_BUILD_ARTIFACTS</code> will allow you to set Roosevelt's <code>makeBuildArtifacts</code> config.</p></li>
<li><p>Added new param <code>minifyHtmlAttributes</code>: Settings to pass to <a href="https://github.com/rooseveltframework/minify-html-attributes">minify-html-attributes</a>.</p>
<ul>
<li>Options:<ul>
<li><code>enable</code>: Whether or not to enable <code>minify-html-attributes</code>.<ul>
<li>Default: <em>[Boolean]</em> <code>false</code>.</li>
<li>Available options:<ul>
<li><code>'production'</code>: Enable only in production mode.</li>
<li><code>'development'</code>: Enable in all modes.</li>
<li><code>true</code>: Will be taken to mean <code>'production'</code>.</li></ul></li></ul></li>
<li><code>minifyHtmlAttributesParams</code>: Params to pass to <a href="https://github.com/rooseveltframework/minify-html-attributes">minify-html-attributes</a>.<ul>
<li>Default: <em>[Object]</em> <code>{}</code></li></ul></li></ul></li>
<li>Default: <em>[Object]</em></li></ul>
<pre><code class="json language-json">{
  "enable": true,
  "minifyHtmlAttributesParams": {}
}</code></pre>
<ul>
<li>Note: Roosevelt will always override 3 params from <a href="https://github.com/rooseveltframework/minify-html-attributes">minify-html-attributes</a>:<ul>
<li><code>htmlDir</code> will always be set to Roosevelt's <code>preprocessedViewsPath</code>.</li>
<li><code>cssDir</code> will always be set to Roosevelt's <code>preprocessedStaticsPath</code>.</li>
<li><code>jsDir</code> will always be set to Roosevelt's <code>preprocessedStaticsPath</code>.</li></ul></li></ul></li>
<li><p>Added new param <code>preprocessedStaticsPath</code>: Relative path on filesystem to where your preprocessed static files will be written to. Preprocessed static files are view files that have been preprocessed by the <a href="https://github.com/rooseveltframework/minify-html-attributes">minify-html-attributes</a> module, if you have <code>minifyHtmlAttributes</code> enabled.</p>
<ul>
<li>Default: <em>[String]</em> <code>".preprocessed_statics"</code>.</li>
<li>This feature will only be active if <code>minifyHtmlAttributes</code> is enabled.</li></ul></li>
<li><p>Replaced <code>isomorphicControllers</code> param with <code>clientControllers</code> param and made it function similarly to <code>clientViews</code>.</p></li>
<li><p>Fixed a bug with displaying app version on default error pages.</p></li>
<li><p>Fixed a bug that could lead to a counter-intuitive error if your template rendered an empty response in dev mode.</p></li>
<li><p>Updated various dependencies.</p></li>
</ul>
<h2 id="0260">0.26.0</h2>
<ul>
<li><p>Breaking: Added new param <code>preprocessedViewsPath</code>: Relative path on filesystem to where your preprocessed view files will be written to. Preprocessed view files are view files that have had their uses of web components progressively enhanced using the <a href="https://github.com/rooseveltframework/progressively-enhance-web-components">progressively-enhance-web-components</a> module.</p>
<ul>
<li>Default: <em>[String]</em> <code>"mvc/.preprocessed_views"</code>.</li>
<li>To disable this feature, set the value to <code>false</code>.</li>
<li>This is breaking because if you leave it enabled by default (recommended), you will need to add <code>.preprocessed_views</code> to your <code>.gitignore</code>.</li></ul></li>
<li><p>Breaking: Switched to external source maps for the CSS preprocessor. This necessitated changing the custom CSS preprocessor API to require returning an object instead of a string.</p>
<ul>
<li>If you have written a custom CSS preprocessor, the new return value is:</li></ul>
<pre><code class="javascript language-javascript">return {
  css: 'write code to output css here',
  sourceMap: 'write code to output source map here (optional)'
}</code></pre></li>
<li><p>Added new param <code>prodSourceMaps</code> to allow source maps to be generated in prod mode for both CSS and JS.</p></li>
<li><p>Added IP address to the output when the server starts.</p></li>
<li><p>Added new CLI script <code>secretsGenerator.js</code> that allows you to combine <code>certsGenerator.js</code>, <code>csrfSecretGenerator.js</code>, and <code>sessionSecretGenerator.js</code> into one command.</p></li>
<li><p>Added feature to override <code>appDir</code> and <code>secretsPath</code> for the CLI scripts using <code>--appDir somewhere</code> and <code>--secretsPath somewhere</code> CLI flags.</p></li>
<li><p>Added <code>exceptionRoutes</code> option to the <code>frontendReload</code> param.</p></li>
<li><p>Added a check for broken symlinks in the public folder, which will be purged if any exist.</p></li>
<li><p>Added support for placing your Roosevelt config in a <code>roosevelt.config.json</code> file in addition to the previous options.</p></li>
<li><p>Added better error when attempting to start a Roosevelt app on a file system that does not support symlinks.</p></li>
<li><p>Changed source maps from inline to external.</p></li>
<li><p>Fixed a bug that caused the JS bundler to not log when it was writing JS files.</p></li>
<li><p>Fixed a bug that caused a <code>statics/pages</code> directory being created when it isn't needed.</p></li>
<li><p>Fixed a bug that could cause the public folder and statics folder to be created even when <code>makeBuildArtifacts</code> is disabled.</p></li>
<li><p>Fixed a bug that caused the views bundler and isomorphic controllers finder to write a new views bundle to disk even when it wasn't needed.</p></li>
<li><p>Fixed <code>frontendReload</code> not working in Firefox with the default HTTPS config.</p></li>
<li><p>Updated various dependencies.</p></li>
</ul>
<h2 id="0250">0.25.0</h2>
<ul>
<li>Breaking: Supplying an <code>allowlist</code> to the views bundler will now implicitly disable <code>exposeAll</code>.</li>
<li>Breaking: Renamed <code>secretsDir</code> param to <code>secretsPath</code>.</li>
<li>Updated all file path express variables to include full absolute paths.</li>
<li>Fixed various bugs in the views bundler feature.</li>
<li>Fixed a rare bug where CSRF and session secrets could be written to the wrong directory.</li>
<li>Fixed a bug where HTTPS certs could be automatically generated when they shouldn't be.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0240">0.24.0</h2>
<ul>
<li>Breaking: Altered <code>startServer</code> and <code>initServer</code> methods to now be async. They now need to be awaited to avoid possible race conditions.<ul>
<li>As a result, starting the app in a single line needs to be updated to <code>await (require('roosevelt').startServer())</code>.</li>
<li>Callback arguments have been removed from these methods as well.</li></ul></li>
<li>Breaking: Removed <code>app.get('routes')</code>, <code>onReqAfterRoute</code>, <code>onReqBeforeRoute</code>, <code>onReqStart</code>, and <code>onStaticAssetsGenerated</code>.</li>
<li>Breaking: Renamed <code>app.httpServer</code> to <code>app.get('httpServer')</code> and <code>app.httpsServer</code> to <code>app.get('httpsServer')</code>.</li>
<li>Breaking: Added <code>enable</code> param to <code>clientViews</code>. If your app uses the <code>clientViews</code> feature, you will need to add this param to continue using the feature.</li>
<li>Added new method <code>onBeforeMiddleware</code>.</li>
<li>Added <code>start</code> and <code>stop</code> method shorthands for <code>startServer</code> and <code>stopServer</code> respectively.</li>
<li>Refactored various things under the hood to improve code quality, performance, and reduce unnecessary dependencies.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0232">0.23.2</h2>
<ul>
<li>Removed <code>toobusy</code> feature since it is temperamental and the dependency is no longer maintained.</li>
<li>Refactored internal <code>wildcardMatch</code> to use <code>minimatch</code> under the hood.</li>
<li>Replaced <code>html-minifier</code> with <code>html-minifier-terser</code> since <code>html-minifier-terser</code> is better-maintained.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0231">0.23.1</h2>
<ul>
<li>Added feature that scans the router stack to move the 404 route (the <code>*</code> route) to the end of the stack every time a new route is added, even if the route is added at runtime so that you can dynamically add routes while the app is running.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0230">0.23.0</h2>
<ul>
<li>Removed <code>cores</code> feature since it is largely redundant now thanks to the widespread popularity of tools like pm2. Also removed various deprecated cluster module support as well.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02216">0.22.16</h2>
<ul>
<li>Made it possible to disable <code>helmet</code> by setting the <code>helmet</code> param to false.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02215">0.22.15</h2>
<ul>
<li>Added option to exempt certain routes from CSRF protection.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02214">0.22.14</h2>
<ul>
<li>The JS bundler will now add <code>mode: "development"</code> and <code>devtool: "source-map"</code> automatically to your Webpack bundles in development mode.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02213">0.22.13</h2>
<ul>
<li>Altered helmet's defaults again. The <code>form-action</code> directive has been set to <code>null</code>. This makes it possible to submit forms to other domains in production mode.</li>
</ul>
<h2 id="02212">0.22.12</h2>
<ul>
<li>Added <code>'unsafe-inline'</code> option to helmet's <code>Content-Security-Policy</code>'s <code>script-src</code> directive by default in Roosevelt. This will prevent inline scripts from being blocked in production mode.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02211">0.22.11</h2>
<ul>
<li>Added <code>DISABLE_HTTPS</code> environment variable which when set to <code>true</code>, the HTTPS server will be disabled and the app will revert to HTTP regardless of what is set in the <code>rooseveltConfig</code>.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02210">0.22.10</h2>
<ul>
<li>Enabled WAL in the SQLite instance used for session storage by default.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0229">0.22.9</h2>
<ul>
<li>Fixed an issue with cert generation from CLI scripts properly this time.</li>
</ul>
<h2 id="0228">0.22.8</h2>
<ul>
<li>Fixed an issue with cert generation from CLI scripts.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0227">0.22.7</h2>
<ul>
<li>Added a max age to the default express-session configuration.</li>
<li>Fixed an issue with cert generation in production mode.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0226">0.22.6</h2>
<ul>
<li>Fixed a bug that caused self-signed certs to get regenerated every time the app restarted.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0225">0.22.5</h2>
<ul>
<li>Certs generator will now run in production mode as well if <code>https</code> is enabled and if the files do not already exist. This behavior can be suppressed by setting <code>https.autoCert</code> to <code>false</code>.</li>
<li>Fixed bug that prevented the static site generator feature from working in dev mode when the HTML validator was enabled.</li>
<li>Fixed README formatting typos.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0224">0.22.4</h2>
<ul>
<li>Made it possible to set <code>expressSession</code> to <code>true</code> which will set a sane default config so you don't have to spell one out.</li>
</ul>
<h2 id="0223">0.22.3</h2>
<ul>
<li>Updated default session store to use SQLite instead of an in-memory database so that sessions are not invalidated when the server restarts.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0222">0.22.2</h2>
<ul>
<li>Fixed a bug that caused self-signed certs to get regenerated every time the app restarted.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0221">0.22.1</h2>
<ul>
<li>Exposed the <code>express-session</code> middleware for use in Roosevelt apps.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="0220">0.22.0</h2>
<ul>
<li>Breaking: Added a unified <code>secrets</code> directory for various app secrets such as HTTPS certs, session secret, CSRF secret, etc. The name of the directory is configurable, but when upgrading an app from the previous version, you may need to alter your rooseveltConfig to remove directories from your <code>cert</code> or <code>key</code> paths. You must now specify only a file name in those params.</li>
<li>Added support for <code>express-session</code> for session support.</li>
<li>Added CSRF protection.</li>
<li>Improved dev sync script for developing Roosevelt significantly.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02116">0.21.16</h2>
<ul>
<li>Fixed an issue that could cause the server to start before all the controller routes were loaded.</li>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02115">0.21.15</h2>
<ul>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02114">0.21.14</h2>
<ul>
<li>Updated various dependencies.</li>
</ul>
<h2 id="02113">0.21.13</h2>
<ul>
<li>Certs will be auto-generated in dev mode now if they don't exist.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="02112">0.21.12</h2>
<ul>
<li>Fixed isomorphic controllers bundler webpack bug in Windows.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="02111">0.21.11</h2>
<ul>
<li>Added a new <code>--build</code> CLI flag that will instruct Roosevelt to just build the build artifacts but not start the server.</li>
<li>Added new <code>onStaticAssetsGenerated</code> event that is fired when the server finishes init but before the server starts.</li>
<li>Fixed an issue that would cause the server to start even when <code>makeBuildArtifacts</code> is set to <code>staticsOnly</code>. This has the side effect of causing <code>serverStart()</code> to revert to the behavior of <code>init()</code> if <code>makeBuildArtifacts</code> is set to <code>staticsOnly</code>.</li>
<li>Fixed a bug that would cause roosevelt-router to produce a false negative when detecting teddy.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="02110">0.21.10</h2>
<ul>
<li>Added <code>--webpack=verbose</code> and <code>--wp=verbose-file</code> CLI flags to make it easier to see verbose webpack errors. Available shorthands: <code>--wp</code> and <code>-w</code>.</li>
<li>Added detection of undefined template literal variables (e.g. via typo) in rooseveltConfig.</li>
<li>Added more helpful error if starting an app with broken symlinks.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0219">0.21.9</h2>
<ul>
<li>Fixed frontend reload when https is enabled with self-signed certs.</li>
<li>Removed parent-require dependency.</li>
<li>Added new <code>dev_sync.sh</code> to make writing code for Roosevelt easier. See instructions on how to use it in the README.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0218">0.21.8</h2>
<ul>
<li>Added wildcard matching to views bundler feature.</li>
<li>Fixed bug that could cause build artifact generation to crash starting the app.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0217">0.21.7</h2>
<ul>
<li>Fixed CSS preprocessor breaking on Windows when using the default configuration in a newly generated app.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0216">0.21.6</h2>
<ul>
<li>The <code>certs-generator</code> script's default name has been changed to <code>generate-certs</code>. The config auditor will now expect it to be named that.</li>
<li>The <code>config-audit</code> script's default name has been changed to <code>audit-config</code>. The config auditor will now expect it to be named that.</li>
<li><code>allowlist</code> in CSS preprocessor now supports wildcard matching, e.g. <code>dir/*</code>.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0215">0.21.5</h2>
<ul>
<li><code>allowlist</code> and <code>blocklist</code> in static site generator feature now supports wildcard matching, e.g. <code>dir/*</code>.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0214">0.21.4</h2>
<ul>
<li>Added <code>allowlist</code> and <code>blocklist</code> to the static site generator feature.</li>
<li>Fixed bug with the static site generator feature that required absolute paths for including child templates in a main template.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0213">0.21.3</h2>
<ul>
<li>When <code>versionedPublic</code> is true, Roosevelt will no longer deposit static HTML pages into the versioned directory.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0212">0.21.2</h2>
<ul>
<li>Fixed bug where the config auditor would complain about the <code>makeBuildArtifacts</code> param being set to string.</li>
<li>Static site generator will now run the HTML validator against rendered templates in dev mode only.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0211">0.21.1</h2>
<ul>
<li>Static site generator can now be supplied models by file instead of by configuration. If model data is not supplied by configuration, Roosevelt will try to automatically load a model from a JS file with the same name alongside the template if it exists instead.</li>
<li>Static site generator will now run the HTML validator against rendered templates.</li>
<li>Bumped CI Node versions.</li>
</ul>
<h2 id="0210">0.21.0</h2>
<ul>
<li>Breaking: <code>htmlMinifier</code> param renamed and expanded to <code>html</code>. You will need to update your Roosevelt config.<ul>
<li>Added feature <code>html.sourcePath</code>, <code>html.models</code>, and <code>html.output</code> which lets you generate static HTML pages from the your statics directory by compiling them with a view engine and depositing the output to the public folder at start time.</li></ul></li>
<li>Fixed issue with <code>symlinks</code> that would cause symlinking to a file rather than a directory to fail in Windows.</li>
<li>Some error message copyediting.</li>
<li>Some minor refactoring and documentation fixes.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0201">0.20.1</h2>
<ul>
<li><code>makeBuildArtifacts</code> will now accept a new value of <code>'staticsOnly'</code> which will allow Roosevelt to create static files but skip the creation of the MVC directories.</li>
<li><code>initServer</code> can now also be called as <code>init</code> instead.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0200">0.20.0</h2>
<ul>
<li>Breaking: Renamed <code>generateFolderStructure</code> to <code>makeBuildArtifacts</code>.</li>
<li>Various dependencies updated.<ul>
<li>Breaking: Among them, <code>formidable</code> was updated which is a breaking change for any app that takes file uploads as <a href="https://github.com/node-formidable/formidable/blob/master/CHANGELOG.md#200">property names in req.files have been renamed</a>, most notably <code>file.path</code> is now <code>file.filepath</code> and <code>file.name</code> is now <code>file.originalname</code>.</li></ul></li>
<li>Removed <code>checkDependencies</code>.</li>
</ul>
<h2 id="01914">0.19.14</h2>
<ul>
<li>Fixed bug that required admin permissions to start an app in Windows.</li>
</ul>
<h2 id="01913">0.19.13</h2>
<ul>
<li>Added script to generate self-signed HTTPS certs:<ul>
<li><code>npm run certs-generator</code>: Generates self-signed HTTPS certs for your app.<ul>
<li>Default shorthand:<ul>
<li><code>npm run c</code></li></ul></li>
<li>Script is short for: <code>node ./node_modules/roosevelt/lib/scripts/certsGenerator.js</code></li></ul></li></ul></li>
<li>Some refactoring.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="01912">0.19.12</h2>
<ul>
<li>Various dependencies updated.<ul>
<li>Migrated colors to @colors/colors.</li></ul></li>
</ul>
<h2 id="01911">0.19.11</h2>
<ul>
<li>Fixed bug that caused isoRequire to only work with absolute paths.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="01910">0.19.10</h2>
<ul>
<li>Added <code>roosevelt-router</code> feature to improve support for writing isomorphic code for SPAs.</li>
<li>Added <code>isomorphicControllers</code> config option that will permit Roosevelt to make a list of all your controller files that can be used client-side as well so they can be auto-loaded client-side too.</li>
<li>Altered <code>clientViews</code> such that the template list will lack file extensions if the file extension of the template matches the default view engine's file extension.</li>
<li>Breaking: Default <code>clientViews</code> output bundle changed from bundle.js to views.js.</li>
<li>Fixed confusing console warning.</li>
<li>HTML validator frontend scripts moved to <code>&lt;head&gt;</code>.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0199">0.19.9</h2>
<ul>
<li>Made Webpack errors less verbose.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0198">0.19.8</h2>
<ul>
<li>Updated for support for Node 16.x. This required a migraiton from node-sass to dart-sass.</li>
<li>Dropped official Node 15 support, though it will probably still work. Node 14 remains officially supported.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0197">0.19.7</h2>
<ul>
<li><code>clientViews</code> <code>allowlist</code> now allows directories.</li>
<li>Default command line flags and environment variables recognized by Roosevelt can now be overridden via source-configs.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0196">0.19.6</h2>
<ul>
<li>Added <code>onAppExit</code> event.</li>
<li>Fixed bug with https feature.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0195">0.19.5</h2>
<ul>
<li>Fix for Node 15 / npm 7 regression. Config auditor and deprecation checker will no longer run as postinstall scripts to compensate for INIT_CWD being removed from npm. These checks will be run exclusively on application first run instead (or any time the public folder is removed). (Closes <a href="https://github.com/rooseveltframework/roosevelt/issues/975">https://github.com/rooseveltframework/roosevelt/issues/975</a>)</li>
<li>Dropped Node 12 support.</li>
<li>Various dependencies updated.</li>
</ul>
<h2 id="0194">0.19.4</h2>
<ul>
<li>Fixed bug that caused Roosevelt to not listen to <code>NODE_ENV</code>.</li>
<li>Moved symlink creation to a separate step and made happen earlier in the app initialization process to maek it easier to work with the various Roosevelt server starting events.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0193">0.19.3</h2>
<ul>
<li>Fixed bug which could cause CSS preprocessor to fail if there are subdirectories in your CSS folder.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0192">0.19.2</h2>
<ul>
<li>Breaking: <code>clientViews</code> no longer exports a function, instead exporting a JSON object.</li>
<li>Breaking: <code>clientViews</code> will no longer minify templates by default.</li>
<li>Fixed bug with <code>clientViews</code> <code>exposeAll</code> feature that would cause it to scoop up any system files that might be present in your views directories.</li>
<li>Fixed bug with <code>clientViews</code> blocklist mistakenly defaulting to an object instead of an array which could cause crashes in some configurations.</li>
<li>Fixed bug with CSS preprocessor that would cause it to scoop up any system files that might be present in your CSS directories.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0191">0.19.1</h2>
<ul>
<li>Added ability to configure helmet dependency.</li>
<li>Fixed bug that caused frontend reload not to work.</li>
<li>Fixed a bug in the Express <code>env</code> variable that would cause it to be incorrectly set at times.</li>
<li>Updated some out of date into in the README.</li>
<li>Removed some unnecessary code.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0190">0.19.0</h2>
<ul>
<li>Breaking: Production mode behavior <a href="https://github.com/rooseveltframework/roosevelt/issues/934">changed significantly</a>:<ul>
<li><code>localhostOnly</code> and <code>alwaysHostPublic</code> defaults were flipped to false and true respectively.</li>
<li><code>alwaysHostPublic</code> was renamed to <code>hostPublic</code>.</li>
<li>The <code>--host-public</code> command line flag was removed, since it is no logner needed because <code>hostPublic</code> defaults to true now.</li>
<li>New command line flag added called <code>production-proxy</code> to let you opt-in to <code>localhostOnly</code> and <code>alwaysHostPublic</code> being set to true and false respectively as before.</li></ul></li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0183">0.18.3</h2>
<ul>
<li>You can now <a href="https://github.com/rooseveltframework/node-php-runner">use PHP as your templating engine</a> in a Roosevelt app or any other Express application. PHP should be faster than any JS-based templating engine for complex templates since its parser is written in C rather than JS.</li>
<li>Breaking: blacklist/whitelist params throughout the API have been renamed to blocklist/allowlist.</li>
<li>README was copyedited to improve the clarity of the default behaviors of some of the API, remove outdated information, and other small improvements.</li>
<li>The host-public warning was made more prominent so that production mode default behavior regarding statics is less confusing to people.</li>
<li>CI improvements.<ul>
<li>Breaking: Roosevelt is no longer tested on Node 10.x. We didn't do anything to explicitly break older Node versions, but use at your own risk.</li></ul></li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0182">0.18.2</h2>
<ul>
<li>Added <a href="https://github.com/helmetjs/helmet">helmet</a> middleware to improve security by default.</li>
<li>Replaced <code>body-parser</code> middleware with native Express integration.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0181">0.18.1</h2>
<ul>
<li>Changed <code>passphrase</code> option from <code>https.p12.passphrase</code> to <code>https.passphrase</code> so it can be used for certAndKey configurations as well.</li>
<li>CI improvements.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0180">0.18.0</h2>
<ul>
<li>Replaced the vnu-jar based HTML validator with express-html-validator 🎉.<ul>
<li>Roosevelt no longer does any background process management as a result.</li></ul></li>
<li>Moved all developer facing dependencies to optionalDependencies.<ul>
<li>They can be omitted from installion when using <code>npm i --no-optional</code>.</li></ul></li>
<li>Refactored frontend reload implementation.</li>
<li>check-dependencies now only runs in dev mode.</li>
<li>API changes:<ul>
<li>Removed <code>separateProcess</code> from <code>htmlValidator</code>.</li>
<li>Removed <code>port</code> from <code>htmlValidator</code>.</li>
<li>Removed <code>showWarnings</code> from <code>htmlValidator</code>.</li>
<li>Added <code>validatorConfig</code> to <code>htmlValidator</code> which respresents a set of rules for the validator to check for.<ul>
<li>Rules can also be set in a <code>.htmlValidate.json</code> placed in the app root.</li></ul></li>
<li>Removed <code>verbose</code> from <code>frontendReload</code>.<ul>
<li>These logs are now controlled by the general verbose logging param.</li></ul></li>
<li>Removed <code>ROOSEVELT_VALIDATOR</code> environment variable.</li>
<li>Removed <code>ROOSEVELT_AUTOKILLER</code> environment variable.</li>
<li>Removed <code>--attach-validator</code> and <code>-a</code> cli flags.</li>
<li>Removed <code>--background-validator</code> and <code>-b</code> cli flags.</li>
<li>Removed <code>--disable-validator-autokiller</code>, <code>--no-autokiller</code>, and <code>-n</code> cli flags.</li>
<li>Removed <code>--enable-validator-autokiller</code>, <code>--html-validator-autokiller</code>, and <code>-k</code> cli flags.</li></ul></li>
<li>Removed dependencies:<ul>
<li>execa</li>
<li>fkill</li>
<li>html-validator</li>
<li>prismjs</li>
<li>ps-node</li>
<li>tamper</li>
<li>vnu-jar</li></ul></li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0171">0.17.1</h2>
<ul>
<li>Fixed a CSS bug where CSS files were still not being written due to a file existence check.</li>
<li>Fixed a CSS bug where empty CSS files were being written because their LESS equivalent would never generate CSS in that particular file.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0170">0.17.0</h2>
<ul>
<li>Breaking: Replaced <code>staticsSymlinksToPublic</code> with <code>symlinks</code>.</li>
<li>Breaking: Replaced <code>routers</code> param with a simplified <code>routePrefix</code> param which defines a subfolder to mount the app to.</li>
<li>Breaking: Renamed <code>multipart</code> param to <code>formidable</code>.</li>
<li>Added ability to configure Roosevelt via a rooseveltConfig.json config file placed in app root instead of from a rooseveltConfig object in package.json.</li>
<li>Added <code>router</code> Express variable that opens up access to internally used router instance.</li>
<li>Added <code>routePrefix</code> Express variable that exposes currently used routePrefix or an empty string if not used.</li>
<li>Fixed bug where changes to CSS files were not being written to the output directory.</li>
<li>Refactored internal <code>fsr</code> module.</li>
<li>Updated internal usage of formidable API.</li>
<li>Internal changes to stabilize the automated tests.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0162">0.16.2</h2>
<ul>
<li>Added deprecation check for old compiler sub modules.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0161">0.16.1</h2>
<ul>
<li>Stopped the config auditor from complaining about obsolete scripts.</li>
<li>Fixed cases where some CLI flags weren't being applied to config.</li>
<li>Test fixes.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0160">0.16.0</h2>
<ul>
<li>Replaced browserify with webpack. <strong>This has significant breaking API changes. You will need to totally rewrite your JS bundles from browserify bundles to webpack bundles to upgrade to this version of Roosevelt. It is also recommended that you remove all references to old build artifacts such as <code>.build</code> and <code>.bundled</code> in your application as well from package.json, .gitignore, etc.</strong></li>
<li>Eliminated concept of separate JS compilers in favor of declaring this via your webpack config. Note: webpack defaults to minifying JS using terser.</li>
<li>Eliminated concept of CSS preprocessor middleware modules in favor of built-in support for LESS, Sass, and Stylus. Other CSS preprocessors can be used as well with a bit of extra configuration.</li>
<li>API changes:<ul>
<li>Removed <code>symlinkToPublic</code>, <code>compiler</code>, <code>output</code>, <code>whitelist</code>, and <code>blacklist</code> params from <code>js</code>.</li>
<li>Replaced <code>js.bundles</code> with <code>js.webpack</code>.</li>
<li>Removed <code>css.symlinkToPublic</code>.</li>
<li>Replaced <code>css.compiler.params.cleanCSS</code> with <code>css.minifier</code>.</li>
<li>Added <code>css.compiler.enable</code>.</li>
<li>Replaced <code>css.compiler.nodeModule</code> with <code>css.compiler.module</code>.</li>
<li>Replaced <code>css.compiler.params</code> with <code>css.compiler.options</code>.</li>
<li><code>css.output</code> is now relative to <code>publicFolder</code> instead of <code>staticsRoot</code>.</li>
<li><code>clientViews.output</code> is now relative to <code>publicFolder</code> instead of <code>staticsRoot</code>.</li>
<li>Removed <code>cleanTimer</code> (Obsolete in absense of <code>.build</code>).</li></ul></li>
<li>App cleaner has been removed.</li>
<li><code>source-configs</code> integration is now more tightly knit.</li>
<li>Config auditor no longer complains about missing params.</li>
<li>Auditor now checks config params on a case-by-case basis.</li>
<li>ES6 style variables can now be used in <code>rooseveltConfig</code> referencing other <code>rooseveltConfig</code> entries.</li>
<li>Introduced views bundler: An API that allows you to expose view code to frontend JS for client-side templating.</li>
<li>Added a button to the validation error page to display the page anyway and another button to disable the validator entirely until the server restarts.</li>
<li>Fixed bug with frontend reload causing it to inject the script tag in the wrong location in some situations.</li>
<li>Fixed bug where <code>router</code> would cause app routes to fail when no controller files exist.</li>
<li>Fixed bug where auto build scanner would crash the app when <code>generateFolderStructure</code> is false.</li>
<li>Fixed bug which resulted in a cryptic error if a Roosevelt app was moved to another directory.</li>
<li>Fixed bug where symlink failed errors would appear when <code>generateFolderStructure</code> is false.</li>
<li>Complete rewrite of HTML validator and related helper scripts.</li>
<li>Refactored multipart middlware.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
<li>Many rewritten tests.</li>
</ul>
<h2 id="0151">0.15.1</h2>
<ul>
<li>Fixed bug causing apps to crash in dev mode.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0150">0.15.0</h2>
<ul>
<li>Moved CSS minification from <a href="https://github.com/rooseveltframework/roosevelt-less">roosevelt-less</a> to Roosevelt using <code>clean-css</code> as a direct dependency. The <code>clean-css</code> library had an update with breaking changes so the <code>rooseveltConfig</code> params in <code>advanced</code> and <code>aggressiveMerging</code> in <code>cleanCSS</code> are now outdated.</li>
<li>New default script <code>npm run proddev</code>: Runs the app in production mode, but with the public folder hosted by the Roosevelt app. This is useful for doing development in production mode without having to stage a complex simulation of your production environment, which would likely include hosting static files via another web server better-suited to serving statics like Apache or nginx.</li>
<li>Roosevelt now sources configs internally using <a href="https://github.com/rooseveltframework/source-configs">source-configs</a>.</li>
<li>Validator will now be disabled if <code>HTTP_PROXY</code> or <code>HTTPS_PROXY</code> are set but localhost is not in <code>NO_PROXY</code>.</li>
<li>Fixed a bug where not having <code>devDependencies</code> or <code>dependencies</code> objects in your app's package.json would throw errors when installing dependencies. Accordingly re-reverted most changes in 0.14.1 to fix buggy behavior with <code>devDependencies</code> in npm installs.</li>
<li>The <code>check-dependencies</code> call will now only apply to production dependencies.</li>
<li>Some internal refactoring to clean things up.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0146">0.14.6</h2>
<ul>
<li>Fixed a bug that caused <code>devDependencies</code> of Roosevelt to be removed if <code>npm i</code> was run more than once.</li>
<li>Fixed a bug that caused the automated testing to break if your clone of Roosevelt was not named "roosevelt."</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0145">0.14.5</h2>
<ul>
<li><code>staticsSymlinksToPublic</code> will now create missing subdirectories necessary to create a symlink in a target location.</li>
<li>Fixed a bug which caused Java hs<em>err</em>pid error logs to pile up in your app directory under certain conditions.</li>
<li>Fixed a bug which caused frontend reload to not work on the various error pages.</li>
<li>Added code comment above frontend reload script tag to explain that it is injected by Roosevelt.</li>
<li>Did some copyediting on frontend reload logging.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0144">0.14.4</h2>
<ul>
<li>Added automatic browser reloading when your frontend code changes (via <a href="https://github.com/alallier/reload">reload</a>).</li>
<li>A console warning will now appear explaining why public static assets don't load in prod mode when alwaysHostPublic is set to false (the default).</li>
<li>New Express variable added: <code>routes</code> containing a list of all routes loaded in the application.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
</ul>
<h2 id="0143">0.14.3</h2>
<ul>
<li>Restored move of several things to devDependencies to shrink production builds. Feature is now activated using <code>ROOSEVELT_DEPLOYMENT</code> environment variable. There are also new corresponding <code>npm run</code> commands <code>dev-install</code> and <code>dev-prune</code> to manage this. See README for more details.</li>
<li>Copyediting on several logs to improve clarity.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
</ul>
<h2 id="0142">0.14.2</h2>
<ul>
<li>Reverted most changes in 0.14.1 to fix <a href="https://github.com/rooseveltframework/roosevelt/issues/713">#713</a>, but preserved modularization of htmlValidator.js so that if any devDependencies are missing, the app will not crash in production mode.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0141">0.14.1</h2>
<ul>
<li>Moved several things to devDependencies to shrink production builds.</li>
<li>Various dependencies bumped.</li>
</ul>
<h2 id="0140">0.14.0</h2>
<ul>
<li>Replaced internal logger with <a href="https://github.com/rooseveltframework/roosevelt-logger">roosevelt-logger</a>. Note: this removes the <code>winston</code> Express variable that was previously provided, but it is still indirectly accessible by drilling down through the <code>logger</code> Express variable now. See <a href="https://github.com/rooseveltframework/roosevelt-logger#properties-of-roosevelt-logger-module">roosevelt-logger member variable documentation</a>.</li>
<li>If custom routers are being used, the <code>res.redirect()</code> method will now prepend the prefix to redirects that are relative to the hostname. To override this setting pass <code>true</code> as the last argument.</li>
<li>HTML validator <code>exceptions</code> param will now accept an array of values instead of just a single string value.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
</ul>
<h2 id="0130">0.13.0</h2>
<ul>
<li>Roosevelt will now warn you if your CSS/JS compile directory is getting stale and might need to be cleaned with <code>npm run clean</code>. A new <code>cleanTimer</code> param has been added to configure or disable this check.</li>
<li>Added new param <code>routers</code> to add support for <a href="https://expressjs.com/en/guide/routing.html#express-router">Express Routers</a>.</li>
<li>Added new feature to create custom CSS/JS preprocessors on the fly.</li>
<li>Added environment variable to enable/disable the HTML validator autokiller.</li>
<li>Added OpenJDK support to the Java HTML Validator.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
</ul>
<h2 id="0122">0.12.2</h2>
<ul>
<li>Introduced changelog.</li>
<li>Autokiller now sends human-readable GET.</li>
<li>Fixed bug which caused the config auditor to report false errors in the case of third party module params being set to configurations other than the default.</li>
<li>Fixed bug related to HTTPS cert parsing.</li>
<li>Disabled option in HTML minifier which removes HTML comments by default.</li>
<li>Various dependencies bumped.</li>
<li>CI improvements.</li>
</ul>
<h2 id="0121andbelow">0.12.1 and below</h2>
<p><a href="https://en.wikipedia.org/wiki/Here_be_dragons">Here be dragons</a>…</p></article></arg></include>