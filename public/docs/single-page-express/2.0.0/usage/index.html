<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no"><title>Roosevelt web framework — Single Page Express — usage</title><meta name=description content="The easiest web framework to learn and build apps with — Roosevelt is a web framework for Node.js based on Express that aims to reduce the complexity of your code as much as possible."><script>window.addEventListener('error', (event) => { if (event?.target?.tagName === 'LINK') { window.linkTagError = true } }, true)</script><link rel=preload href=/css/global.css as=style><link rel=preload href=/js/global.js as=script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Oswald:wght@300;400&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel=stylesheet><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-48x48.png sizes=48x48><link rel=icon type=image/png href=/images/favicon-64x64.png sizes=64x64><link rel=icon type=image/png href=/images/favicon-128x128.png sizes=128x128><link rel=stylesheet href=/css/global.css><script src=/js/global.js defer></script><link rel=preload href=/css/main.css as=style><link rel=preload href=/js/main.js as=script><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/highlight.js.light.css><link rel=stylesheet href=/css/highlight.js.dark.css media="(prefers-color-scheme: dark)"><script src=/js/main.js defer></script></head><body class=no-js id=single-page-express-single-page-express-—-usage><main><header><h1><a href=/ >Roosevelt</a></h1><h2>Single Page Express — usage</h2><div id=nav-search-wrapper><nav id=fancy-version-picker hidden><form class=semanticForms><dl><dt><label for=version>API version</label></dt><dd><select id=version><option value=/docs/single-page-express/latest/usage.html>2.0.0 (latest)</option><option value=https://github.com/rooseveltframework/single-page-express/commits/main/README.md>Older...</option></select></dd></dl></form></nav><search hidden><form id=searchForm action=https://github.com/search method=get class=semanticForms><dl><dt><label for=search>Search</label></dt><dd><input type=text id=search name=q placeholder="e.g. Teddy"></dd></dl><menu class=visuallyHidden><li><button type=submit name=submit>Search</button></li></menu></form></search></div><button command=show-modal commandfor=nav hidden>Site navigation</button></header><div class=content><nav id=pages><dialog id=nav><form method=dialog><button>Close</button></form><h2>About</h2><ul><li><a href=/design-philosophy>Design philosophy</a></li><li><a href=/contributors>Contributors</a></li></ul><h2>Usage</h2><ul><li><a href=/docs/latest/get-started>Get started</a></li><li><a href=/docs/latest/coding-apps>Coding apps</a></li><li><a href=/docs/latest/configuration>Configuration</a></li><li><a href=/docs/latest/deployment>Deployment</a></li><li><a href=https://github.com/orgs/rooseveltframework/discussions>Discussion forum</a></li><li><a href=/docs/latest/changelog>Changelog</a></li><li><a href=https://github.com/orgs/rooseveltframework>GitHub</a></li></ul><h2>Roosevelt project family</h2><hr><ul><li><details><summary><a href=/docs/check-if-CSS-is-disabled/latest/ >Check if CSS is disabled</a></summary><ul><li><a href=/docs/check-if-CSS-is-disabled/latest/usage>Usage</a></li><li><a href=/docs/check-if-CSS-is-disabled/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/check-if-CSS-is-disabled>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/crossplatform-killport/latest/ >Crossplatform killport</a></summary><ul><li><a href=/docs/crossplatform-killport/latest/usage>Usage</a></li><li><a href=/docs/crossplatform-killport/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/crossplatform-killport>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/express-browser-reload/latest/ >Express browser reloader</a></summary><ul><li><a href=/docs/express-browser-reload/latest/usage>Usage</a></li><li><a href=/docs/express-browser-reload/latest/configuration>Configuration</a></li><li><a href=/docs/express-browser-reload/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/express-browser-reload>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/express-html-validator/latest/ >Express HTML validator</a></summary><ul><li><a href=/docs/express-html-validator/latest/usage>Usage</a></li><li><a href=/docs/express-html-validator/latest/configuration>Configuration</a></li><li><a href=/docs/express-html-validator/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/express-html-validator>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/fallback-dependencies/latest/ >Fallback dependencies</a></summary><ul><li><a href=/docs/fallback-dependencies/latest/usage>Usage</a></li><li><a href=/docs/fallback-dependencies/latest/configuration>Configuration</a></li><li><a href=/docs/fallback-dependencies/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/fallback-dependencies>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/minify-html-attributes/latest/ >HTML attribute minifier</a></summary><ul><li><a href=/docs/minify-html-attributes/latest/usage>Usage</a></li><li><a href=/docs/minify-html-attributes/latest/configuration>Configuration</a></li><li><a href=/docs/minify-html-attributes/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/minify-html-attributes>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/multi-db/latest/ >Multi-DB</a></summary><ul><li><a href=/docs/multi-db/latest/usage>Usage</a></li><li><a href=/docs/multi-db/latest/configuration>Configuration</a></li><li><a href=/docs/multi-db/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/multi-db>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/node-php-runner/latest/ >Node.js PHP runner</a></summary><ul><li><a href=/docs/node-php-runner/latest/usage>Usage</a></li><li><a href=/docs/node-php-runner/latest/configuration>Configuration</a></li><li><a href=/docs/node-php-runner/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/node-php-runner>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/roosevelt-logger/latest/ >Roosevelt logger</a></summary><ul><li><a href=/docs/roosevelt-logger/latest/usage>Usage</a></li><li><a href=/docs/roosevelt-logger/latest/configuration>Configuration</a></li><li><a href=/docs/roosevelt-logger/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/roosevelt-logger>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/progressively-enhance-web-components/latest/ ><abbr title="server-side render">SSR</abbr> web components</a></summary><ul><li><a href=/docs/progressively-enhance-web-components/latest/usage>Usage</a></li><li><a href=/docs/progressively-enhance-web-components/latest/configuration>Configuration</a></li><li><a href=/docs/progressively-enhance-web-components/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/progressively-enhance-web-components>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/semantic-forms/latest/ >Semantic Forms</a></summary><ul><li><a href=/docs/semantic-forms/latest/usage>Usage</a></li><li><a href=/docs/semantic-forms/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/semantic-forms>GitHub</a></li></ul></details></li><li><details open><summary><a href=/docs/single-page-express/latest/ >Single Page Express</a></summary><ul><li><a href=/docs/single-page-express/latest/usage>Usage</a></li><li><a href=/docs/single-page-express/latest/configuration>Configuration</a></li><li><a href=/docs/single-page-express/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/single-page-express>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/source-configs/latest/ >Source Configs</a></summary><ul><li><a href=/docs/source-configs/latest/usage>Usage</a></li><li><a href=/docs/source-configs/latest/configuration>Configuration</a></li><li><a href=/docs/source-configs/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/source-configs>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/teddy/latest/ >Teddy templating engine</a></summary><ul><li><a href=/docs/teddy/latest/usage>Usage</a></li><li><a href=/docs/teddy/latest/configuration>Configuration</a></li><li><a href=/docs/teddy/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/teddy>GitHub</a></li></ul></details></li></ul></dialog></nav><article><h2 id=install>Install</h2><p>First, install <code>single-page-express</code> from npm.</p><p>The package is distributed with the following builds available:</p><ul><li><code>dist/single-page-express.cjs</code>: CommonJS bundle: <code>const singlePageExpress = require('single-page-express')</code></li><li><code>dist/single-page-express.js</code>: Standalone bundle that can be included via <code>&lt;script&gt;</code> tags. Declares a global variable: <code>singlePageExpress</code></li><li><code>dist/single-page-express.min.js</code>: Minified standalone bundle that can be included via <code>&lt;script&gt;</code> tags. Declares a global variable: <code>singlePageExpress</code></li><li><code>dist/single-page-express.mjs</code>: ES module: <code>import singlePageExpress from 'single-page-express'</code></li><li><code>dist/single-page-express.min.mjs</code>: Minified ES module: <code>import singlePageExpress from 'single-page-express/min'</code></li></ul><h2 id=use>Use</h2><p>Then, in your frontend code:</p><pre><code class="javascript language-javascript">const templatingEngine = require('') // define which templating engine to use here
const templates = {} // load some templates here</code></pre><p>For <code>templatingEngine</code>, use something like <a href=https://github.com/rooseveltframework/teddy>teddy</a>, <a href=https://github.com/janl/mustache.js/ >mustache</a>, or any other templating system that supports Express and works in the browser.</p><p>For <code>templates</code>, create an object of key/value pairs where the key is the name of the template and the value is the template code.</p><p>Once those variables are defined, you can call the <code>single-page-express</code> constructor.</p><p>Below is an example using Teddy for templating and defining two simple templates.</p><pre><code class="javascript language-javascript">const templatingEngine = require('teddy/client')
const templates = {
  index: '&lt;p&gt;hello world&lt;/p&gt;',
  secondPage: '&lt;p&gt;this page has a {variable} in it&lt;/p&gt;'
}
const app = require('single-page-express')({
  templatingEngine,
  templates
})</code></pre><h3 id=definingroutes>Defining routes</h3><p>The various methods of defining routes <a href=https://expressjs.com/en/guide/routing.html>like you would with Express</a> are supported.</p><p>A simple example:</p><pre><code class="javascript language-javascript">app.route('/').get(function (req, res) {
  res.render('index', {})
})

app.route('/secondPage').get(function (req, res) {
  res.render('secondPage', {
    variable: 'variable with contents: "hi there!"'
&amp;nbsp;&amp;nbsp;})
})</code></pre><p>Some more examples:</p><pre><code class="javascript language-javascript">// using the app.METHOD syntax
app.get('/routeWithAppDotMethod', function (req, res) {
  res.render('someTemplate', { some: 'model' })
})

// using the app.route('route').METHOD syntax
app.route('/routeWithAppDotRouterDotMethod').get(function (req, res) {
  res.render('someTemplate', { some: 'model' })
})

// route with params
app.route('/route/:with/:params').get(function (req, res) {
  console.log('req.params:', req.params)
  res.render('someTemplate', { some: 'model' })
})

// route with express 4 wildcard syntax
app.route('*').get(function (req, res) {
  res.render('someTemplate', { some: 'model' })
})

// route with express 5 wildcard syntax
app.route('*:all').get(function (req, res) {
  res.render('someTemplate', { some: 'model' })
})

// handle a form submit
app.route('/routeWithFormSubmit').post(function (req, res) {
  console.log('req.body:', req.body)
  res.render('someTemplate', { some: 'model' })
})</code></pre><p>You can also call <code>app.triggerRoute(params)</code> to activate the route callback registered for a given route, as though the link was clicked or a form was POSTed.</p><p>Params accepted by <code>app.triggerRoute</code> include:</p><ul><li><code>route</code>: Which route you're triggering.</li><li><code>method</code>: e.g. GET, POST, etc. (Case insensitive.)</li><li><code>body</code>: What to supply to <code>req.body</code> if you're triggering a POST.</li></ul><h3 id=controllingscrollpositionbehavior>Controlling scroll position behavior</h3><p>By default, <code>single-page-express</code> will remember the scroll position of pages that have been visited. It will also remember the scroll position of child containers on each page as well, but only if those containers have assigned <code>id</code> attributes.</p><p>If you wish to not remember the scroll position on a per route basis, supply <code>res.resetScroll = true</code> in your route. To disable this memory app-wide, set the <code>alwaysScrollTop</code> param to <code>true</code> in the constructor.</p><h3 id=runningthesampleapps>Running the sample apps</h3><p>There are 3 sample apps you can run to see demos of how <code>single-page-express</code> can be used:</p><ol><li><p>Basic frontend-only sample app:</p><ul><li>This is a minimalist demo of <code>single-page-express</code> that just demos various kinds of routes working as expected, but does not wire up any templating system or do anything other than log data to the console when the render method is called.</li><li>To run it:<ul><li><code>npm ci</code></li><li><code>npm run sample-app-basic-frontend-only</code><ul><li>Or <code>npm run sample1</code></li></ul></li><li>Go to http://localhost:3000</li></ul></li></ul></li><li><p>Basic frontend-only sample app with templating:</p><ul><li>Similar to the above demo, but includes a templating engine and demos page navigation in the single page app context.</li><li>To run it:<ul><li><code>npm ci</code></li><li><code>npm run sample-app-basic-frontend-only-with-templating</code><ul><li>Or <code>npm run sample2</code></li></ul></li></ul></li><li>Go to <a href=http://localhost:3000>http://localhost:3000</a></li></ul></li><li><p>Express-based sample app:</p><ul><li>This is a full Express app that demos sharing routes and templates on the backend and frontend.</li><li>To run it:<ul><li><code>cd sampleApps/express</code></li><li><code>npm ci</code></li><li><code>cd ../../</code></li><li><code>npm run express-sample</code><ul><li>Or <code>npm run sample3</code></li><li>Or <code>cd</code> into <code>sampleApps/express</code> and run <code>npm ci</code> and <code>npm start</code></li></ul></li></ul></li><li>Go to <a href=http://localhost:3000>http://localhost:3000</a></li></ul></li><li><p>More complex Express-based sample app:</p><ul><li>Similar to the previous one but tests more features of <code>single-page-express</code>. This app exists mainly for the automated tests, but you can use it as a template for your app too if you like.</li><li>To run it:<ul><li><code>cd sampleApps/express-complex</code></li><li><code>npm ci</code></li><li><code>cd ../../</code></li><li><code>npm run express-express-complex</code><ul><li>Or <code>npm run sample4</code></li><li>Or <code>cd</code> into <code>sampleApps/express-complex</code> and run <code>npm ci</code> and <code>npm start</code></li></ul></li></ul></li><li>Go to <a href=http://localhost:3000>http://localhost:3000</a></li></ul></li></ol></article></div><footer><nav id=secondary-nav><details open><summary>Site map</summary><h2>About</h2><ul><li><a href=/design-philosophy>Design philosophy</a></li><li><a href=/contributors>Contributors</a></li></ul><h2>Usage</h2><ul><li><a href=/docs/latest/get-started>Get started</a></li><li><a href=/docs/latest/coding-apps>Coding apps</a></li><li><a href=/docs/latest/configuration>Configuration</a></li><li><a href=/docs/latest/deployment>Deployment</a></li><li><a href=https://github.com/orgs/rooseveltframework/discussions>Discussion forum</a></li><li><a href=/docs/latest/changelog>Changelog</a></li><li><a href=https://github.com/orgs/rooseveltframework>GitHub</a></li></ul><h2>Roosevelt project family</h2><hr><ul><li><details><summary><a href=/docs/check-if-CSS-is-disabled/latest/ >Check if CSS is disabled</a></summary><ul><li><a href=/docs/check-if-CSS-is-disabled/latest/usage>Usage</a></li><li><a href=/docs/check-if-CSS-is-disabled/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/check-if-CSS-is-disabled>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/crossplatform-killport/latest/ >Crossplatform killport</a></summary><ul><li><a href=/docs/crossplatform-killport/latest/usage>Usage</a></li><li><a href=/docs/crossplatform-killport/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/crossplatform-killport>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/express-browser-reload/latest/ >Express browser reloader</a></summary><ul><li><a href=/docs/express-browser-reload/latest/usage>Usage</a></li><li><a href=/docs/express-browser-reload/latest/configuration>Configuration</a></li><li><a href=/docs/express-browser-reload/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/express-browser-reload>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/express-html-validator/latest/ >Express HTML validator</a></summary><ul><li><a href=/docs/express-html-validator/latest/usage>Usage</a></li><li><a href=/docs/express-html-validator/latest/configuration>Configuration</a></li><li><a href=/docs/express-html-validator/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/express-html-validator>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/fallback-dependencies/latest/ >Fallback dependencies</a></summary><ul><li><a href=/docs/fallback-dependencies/latest/usage>Usage</a></li><li><a href=/docs/fallback-dependencies/latest/configuration>Configuration</a></li><li><a href=/docs/fallback-dependencies/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/fallback-dependencies>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/minify-html-attributes/latest/ >HTML attribute minifier</a></summary><ul><li><a href=/docs/minify-html-attributes/latest/usage>Usage</a></li><li><a href=/docs/minify-html-attributes/latest/configuration>Configuration</a></li><li><a href=/docs/minify-html-attributes/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/minify-html-attributes>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/multi-db/latest/ >Multi-DB</a></summary><ul><li><a href=/docs/multi-db/latest/usage>Usage</a></li><li><a href=/docs/multi-db/latest/configuration>Configuration</a></li><li><a href=/docs/multi-db/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/multi-db>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/node-php-runner/latest/ >Node.js PHP runner</a></summary><ul><li><a href=/docs/node-php-runner/latest/usage>Usage</a></li><li><a href=/docs/node-php-runner/latest/configuration>Configuration</a></li><li><a href=/docs/node-php-runner/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/node-php-runner>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/roosevelt-logger/latest/ >Roosevelt logger</a></summary><ul><li><a href=/docs/roosevelt-logger/latest/usage>Usage</a></li><li><a href=/docs/roosevelt-logger/latest/configuration>Configuration</a></li><li><a href=/docs/roosevelt-logger/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/roosevelt-logger>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/progressively-enhance-web-components/latest/ ><abbr title="server-side render">SSR</abbr> web components</a></summary><ul><li><a href=/docs/progressively-enhance-web-components/latest/usage>Usage</a></li><li><a href=/docs/progressively-enhance-web-components/latest/configuration>Configuration</a></li><li><a href=/docs/progressively-enhance-web-components/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/progressively-enhance-web-components>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/semantic-forms/latest/ >Semantic Forms</a></summary><ul><li><a href=/docs/semantic-forms/latest/usage>Usage</a></li><li><a href=/docs/semantic-forms/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/semantic-forms>GitHub</a></li></ul></details></li><li><details open><summary><a href=/docs/single-page-express/latest/ >Single Page Express</a></summary><ul><li><a href=/docs/single-page-express/latest/usage>Usage</a></li><li><a href=/docs/single-page-express/latest/configuration>Configuration</a></li><li><a href=/docs/single-page-express/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/single-page-express>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/source-configs/latest/ >Source Configs</a></summary><ul><li><a href=/docs/source-configs/latest/usage>Usage</a></li><li><a href=/docs/source-configs/latest/configuration>Configuration</a></li><li><a href=/docs/source-configs/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/source-configs>GitHub</a></li></ul></details></li><li><details><summary><a href=/docs/teddy/latest/ >Teddy templating engine</a></summary><ul><li><a href=/docs/teddy/latest/usage>Usage</a></li><li><a href=/docs/teddy/latest/configuration>Configuration</a></li><li><a href=/docs/teddy/latest/changelog>Changelog</a></li><li><a href=https://github.com/rooseveltframework/teddy>GitHub</a></li></ul></details></li></ul></details></nav><nav id=basic-version-picker><p>API version:</p><ul><li><a href=/docs/single-page-express/latest/usage.html>2.0.0 (latest)</a></li><li><a href=https://github.com/rooseveltframework/single-page-express/commits/main/README.md>Older...</a></li></ul></nav><aside><p><small>Except where otherwise noted, all original work available on this site is licensed under the <a href=http://creativecommons.org/licenses/by/4.0/ >Creative Commons Attribution 4.0 International License</a>.</small></p><p><small>Commercial and noncommercial use is permitted so long as <a href=/contributors>the authors</a> of the work are properly attributed.</small></p></aside></footer></main></body></html>